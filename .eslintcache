[{"/home/ericoseid/backpack-app/src/index.js":"1","/home/ericoseid/backpack-app/src/App.js":"2","/home/ericoseid/backpack-app/src/reportWebVitals.js":"3","/home/ericoseid/backpack-app/src/data/common/Position.js":"4","/home/ericoseid/backpack-app/src/data/item/ItemData.js":"5","/home/ericoseid/backpack-app/src/data/item/ShapeDefinition.js":"6","/home/ericoseid/backpack-app/src/components/item/Item.js":"7","/home/ericoseid/backpack-app/src/components/item/ItemBlock.js":"8","/home/ericoseid/backpack-app/src/components/grid/Grid.js":"9","/home/ericoseid/backpack-app/src/components/grid/GridRow.js":"10","/home/ericoseid/backpack-app/src/components/grid/GridBlock.js":"11","/home/ericoseid/backpack-app/src/util/GridUtil.js":"12","/home/ericoseid/backpack-app/src/data/grid/GridData.js":"13","/home/ericoseid/backpack-app/src/data/item/ShapeBlockDefinition.js":"14"},{"size":500,"mtime":1609434423413,"results":"15","hashOfConfig":"16"},{"size":2348,"mtime":1609721354972,"results":"17","hashOfConfig":"16"},{"size":362,"mtime":1609434423413,"results":"18","hashOfConfig":"16"},{"size":118,"mtime":1609435536481,"results":"19","hashOfConfig":"16"},{"size":382,"mtime":1609721320444,"results":"20","hashOfConfig":"16"},{"size":1090,"mtime":1609725884908,"results":"21","hashOfConfig":"16"},{"size":5004,"mtime":1609736306332,"results":"22","hashOfConfig":"16"},{"size":700,"mtime":1609733545670,"results":"23","hashOfConfig":"16"},{"size":336,"mtime":1609712028189,"results":"24","hashOfConfig":"16"},{"size":300,"mtime":1609712044281,"results":"25","hashOfConfig":"16"},{"size":470,"mtime":1609712063210,"results":"26","hashOfConfig":"16"},{"size":1795,"mtime":1609727074433,"results":"27","hashOfConfig":"16"},{"size":502,"mtime":1609711793987,"results":"28","hashOfConfig":"16"},{"size":338,"mtime":1609725523890,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},"1jlzq1a",{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45","usedDeprecatedRules":"32"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},"/home/ericoseid/backpack-app/src/index.js",[],["61","62"],"/home/ericoseid/backpack-app/src/App.js",[],"/home/ericoseid/backpack-app/src/reportWebVitals.js",[],"/home/ericoseid/backpack-app/src/data/common/Position.js",[],"/home/ericoseid/backpack-app/src/data/item/ItemData.js",[],"/home/ericoseid/backpack-app/src/data/item/ShapeDefinition.js",[],"/home/ericoseid/backpack-app/src/components/item/Item.js",["63"],"import React from \"react\";\nimport ItemBlock from \"./ItemBlock\";\nimport Position from \"../../data/common/Position\";\nimport GridUtil from \"../../util/GridUtil\";\nimport GridData from \"../../data/grid/GridData\";\n\nclass Item extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.selectedBlock = null;\n    this.previousMousePosition = null;\n    this.fittedCell = null;\n    this.highlightedCell = null;\n\n    this.onMouseDown = this.onMouseDown.bind(this);\n    this.onMouseUp = this.onMouseUp.bind(this);\n    this.onMouseMove = this.onMouseMove.bind(this);\n    this.onMouseLeave = this.onMouseLeave.bind(this);\n    this.moveItem = this.moveItem.bind(this);\n    this.getFittedPostion = this.getFittedPostion.bind(this);\n    this.highlightCells = this.highlightCells.bind(this);\n    this.unHighlightCells = this.unHighlightCells.bind(this);\n    this.getUpperLeftGridCell = this.getUpperLeftGridCell.bind(this);\n\n    this.state = {\n      currentPostion: this.props.restPosition,\n    };\n  }\n\n  onMouseDown(block, e) {\n    this.selectedBlock = block;\n\n    if (this.fittedCell) {\n      this.props.setGridState(\n        GridUtil.resetShapeValues(\n          this.props.getGridState(),\n          this.props.shapeDefinition,\n          this.fittedCell[0],\n          this.fittedCell[1]\n        )\n      );\n\n      this.fittedCell = null;\n    }\n\n    this.previousMousePosition = new Position(e.clientY, e.clientX);\n  }\n\n  onMouseUp(e) {\n    this.unHighlightCells();\n\n    this.setState({\n      currentPostion: this.getFittedPostion(e),\n    });\n\n    this.selectedBlock = null;\n  }\n\n  onMouseMove(e) {\n    this.moveItem(e);\n  }\n\n  onMouseLeave(e) {\n    this.moveItem(e);\n  }\n\n  moveItem(e) {\n    if (this.selectedBlock != null) {\n      let moveX = e.clientX - this.previousMousePosition.left;\n      let moveY = e.clientY - this.previousMousePosition.top;\n\n      this.setState({\n        currentPostion: new Position(\n          this.state.currentPostion.top + moveY,\n          this.state.currentPostion.left + moveX\n        ),\n      });\n\n      this.previousMousePosition = new Position(e.clientY, e.clientX);\n\n      this.highlightCells(e);\n    }\n  }\n\n  highlightCells(e) {\n    this.unHighlightCells();\n\n    let upperLeftCell = this.getUpperLeftGridCell(e);\n\n    if (\n      upperLeftCell &&\n      GridUtil.checkFit(\n        this.props.getGridState(),\n        this.props.shapeDefinition,\n        upperLeftCell[0],\n        upperLeftCell[1]\n      )\n    ) {\n      this.highlightedCell = upperLeftCell;\n\n      this.props.setGridState(\n        GridUtil.highlightShape(\n          this.props.getGridState(),\n          this.props.shapeDefinition,\n          upperLeftCell[0],\n          upperLeftCell[1]\n        )\n      );\n    }\n  }\n\n  unHighlightCells() {\n    if (this.highlightedCell) {\n      this.props.setGridState(\n        GridUtil.resetShapeValues(\n          this.props.getGridState(),\n          this.props.shapeDefinition,\n          this.highlightedCell[0],\n          this.highlightedCell[1]\n        )\n      );\n\n      this.highlightedCell = null;\n    }\n  }\n\n  getFittedPostion(e) {\n    let upperLeftCell = this.getUpperLeftGridCell(e);\n\n    if (\n      !upperLeftCell ||\n      !GridUtil.checkFit(\n        this.props.getGridState(),\n        this.props.shapeDefinition,\n        upperLeftCell[0],\n        upperLeftCell[1]\n      )\n    ) {\n      return this.props.restPosition;\n    }\n\n    this.fittedCell = upperLeftCell;\n\n    this.props.setGridState(\n      GridUtil.fitShape(\n        this.props.getGridState(),\n        this.props.shapeDefinition,\n        upperLeftCell[0],\n        upperLeftCell[1]\n      )\n    );\n\n    return new Position(\n      50 + upperLeftCell[0] * 50,\n      this.props.backpackPosition.left + upperLeftCell[1] * 50\n    );\n  }\n\n  getUpperLeftGridCell(e) {\n    let itemBlockPosition = this.props.shapeDefinition.definition[\n      this.selectedBlock\n    ];\n\n    let hoveredElements = document.elementsFromPoint(e.clientX, e.clientY);\n\n    let gridBlock = hoveredElements.find(\n      (e) =>\n        e.className === \"GridBlock\" && e.dataset.type == GridData.BACKPACK_TYPE\n    );\n\n    if (gridBlock) {\n      return [\n        gridBlock.dataset.row - itemBlockPosition.down,\n        gridBlock.dataset.column - itemBlockPosition.right,\n      ];\n    }\n\n    return null;\n  }\n\n  render() {\n    return (\n      <div>\n        {this.props.shapeDefinition.definition.map((position, i) => (\n          <div\n            style={{\n              position: \"absolute\",\n              zIndex: this.selectedBlock !== null ? 2 : 1,\n              top: `${this.state.currentPostion.top + position.down * 50}px`,\n              left: `${this.state.currentPostion.left + position.right * 50}px`,\n            }}\n            onMouseDown={(e) => this.onMouseDown(i, e)}\n            onMouseUp={this.onMouseUp}\n            onMouseMove={this.onMouseMove}\n            onMouseLeave={this.onMouseLeave}\n          >\n            <ItemBlock definition={position} />\n          </div>\n        ))}\n      </div>\n    );\n  }\n}\n\nexport default Item;\n","/home/ericoseid/backpack-app/src/components/item/ItemBlock.js",[],"/home/ericoseid/backpack-app/src/components/grid/Grid.js",[],"/home/ericoseid/backpack-app/src/components/grid/GridRow.js",[],"/home/ericoseid/backpack-app/src/components/grid/GridBlock.js",[],["64","65"],"/home/ericoseid/backpack-app/src/util/GridUtil.js",[],"/home/ericoseid/backpack-app/src/data/grid/GridData.js",[],"/home/ericoseid/backpack-app/src/data/item/ShapeBlockDefinition.js",[],{"ruleId":"66","replacedBy":"67"},{"ruleId":"68","replacedBy":"69"},{"ruleId":"70","severity":1,"message":"71","line":169,"column":55,"nodeType":"72","messageId":"73","endLine":169,"endColumn":57},{"ruleId":"66","replacedBy":"74"},{"ruleId":"68","replacedBy":"75"},"no-native-reassign",["76"],"no-negated-in-lhs",["77"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected",["76"],["77"],"no-global-assign","no-unsafe-negation"]